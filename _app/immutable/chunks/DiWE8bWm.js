import{k as H,O as j,m,P as k,Q as y,R as Y,g as B,S as ee,T as re,U as V,V as L,n as M,W as G,X as fe,Y as $,h as ae,Z as I,l as z,s as ne,_ as se,$ as ie,a0 as U,a1 as le,a2 as oe,I as te,a3 as K,a4 as ue,i as Q,p as W,a5 as D,a6 as de,j as ve,a7 as Z,K as ce,B as pe,a8 as _e,a9 as he,aa as ge,ab as Ee,ac as me,ad as Te,ae as Ae}from"./D8JHZCSi.js";import{b as P,c as Ne}from"./BH0EtjNa.js";function we(e,f,r){for(var u=[],v=f.length,t,i=f.length,n=0;n<v;n++){let o=f[n];W(o,()=>{if(t){if(t.pending.delete(o),t.done.add(o),t.pending.size===0){var c=e.outrogroups;F(U(t.done)),c.delete(t),c.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var l=u.length===0&&r!==null;if(l){var s=r,d=s.parentNode;de(d),d.append(s),e.items.clear()}F(f,!l)}else t={pending:new Set(f),done:new Set},(e.outrogroups??=new Set).add(t)}function F(e,f=!0){for(var r=0;r<e.length;r++)ve(e[r],f)}var X;function ke(e,f,r,u,v,t=null){var i=e,n=new Map;{var l=e;i=m?k(y(l)):l.appendChild(H())}m&&Y();var s=null,d=se(()=>{var p=r();return ie(p)?p:p==null?[]:U(p)}),o,c=!0;function R(){g.fallback=s,Ie(g,o,i,f,u),s!==null&&(o.length===0?(s.f&I)===0?Q(s):(s.f^=I,b(s,null,i)):W(s,()=>{s=null}))}var a=j(()=>{o=B(d);var p=o.length;let T=!1;if(m){var h=ee(i)===re;h!==(p===0)&&(i=V(),k(i),L(!1),T=!0)}for(var C=new Set,A=ae,S=ne(),N=0;N<p;N+=1){m&&M.nodeType===G&&M.data===fe&&(i=M,T=!0,L(!1));var O=o[N],_=u(O,N),E=c?null:n.get(_);E?(E.v&&$(E.v,O),E.i&&$(E.i,N),S&&A.skipped_effects.delete(E.e)):(E=Se(n,c?i:X??=H(),O,_,N,v,f,r),c||(E.e.f|=I),n.set(_,E)),C.add(_)}if(p===0&&t&&!s&&(c?s=z(()=>t(i)):(s=z(()=>t(X??=H())),s.f|=I)),m&&p>0&&k(V()),!c)if(S){for(const[J,x]of n)C.has(J)||A.skipped_effects.add(x.e);A.oncommit(R),A.ondiscard(()=>{})}else R();T&&L(!0),B(d)}),g={effect:a,items:n,outrogroups:null,fallback:s};c=!1,m&&(i=M)}function Ie(e,f,r,u,v){var t=f.length,i=e.items,n=e.effect.first,l,s=null,d=[],o=[],c,R,a,g;for(g=0;g<t;g+=1){if(c=f[g],R=v(c,g),a=i.get(R).e,e.outrogroups!==null)for(const _ of e.outrogroups)_.pending.delete(a),_.done.delete(a);if((a.f&I)!==0)if(a.f^=I,a===n)b(a,null,r);else{var p=s?s.next:n;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),w(e,s,a),w(e,a,p),b(a,p,r),s=a,d=[],o=[],n=s.next;continue}if((a.f&D)!==0&&Q(a),a!==n){if(l!==void 0&&l.has(a)){if(d.length<o.length){var T=o[0],h;s=T.prev;var C=d[0],A=d[d.length-1];for(h=0;h<d.length;h+=1)b(d[h],T,r);for(h=0;h<o.length;h+=1)l.delete(o[h]);w(e,C.prev,A.next),w(e,s,C),w(e,A,T),n=T,s=A,g-=1,d=[],o=[]}else l.delete(a),b(a,n,r),w(e,a.prev,a.next),w(e,a,s===null?e.effect.first:s.next),w(e,s,a),s=a;continue}for(d=[],o=[];n!==null&&n!==a;)(l??=new Set).add(n),o.push(n),n=n.next;if(n===null)continue}(a.f&I)===0&&d.push(a),s=a,n=a.next}if(e.outrogroups!==null){for(const _ of e.outrogroups)_.pending.size===0&&(F(U(_.done)),e.outrogroups?.delete(_));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||l!==void 0){var S=[];if(l!==void 0)for(a of l)(a.f&D)===0&&S.push(a);for(;n!==null;)(n.f&D)===0&&n!==e.fallback&&S.push(n),n=n.next;var N=S.length;if(N>0){var O=t===0?r:null;we(e,S,O)}}}function Se(e,f,r,u,v,t,i,n){var l=(i&le)!==0?(i&oe)===0?te(r,!1,!1):K(r):null,s=(i&ue)!==0?K(v):null;return{v:l,i:s,e:z(()=>(t(f,l??r,s??v,n),()=>{e.delete(u)}))}}function b(e,f,r){if(e.nodes)for(var u=e.nodes.start,v=e.nodes.end,t=f&&(f.f&I)===0?f.nodes.start:r;u!==null;){var i=Z(u);if(t.before(u),u===v)return;u=i}}function w(e,f,r){f===null?e.effect.first=r:f.next=r,r===null?e.effect.last=f:r.prev=f}function He(e,f,r=!1,u=!1,v=!1){var t=e,i="";ce(()=>{var n=pe;if(i===(i=f()??"")){m&&Y();return}if(n.nodes!==null&&(_e(n.nodes.start,n.nodes.end),n.nodes=null),i!==""){if(m){M.data;for(var l=Y(),s=l;l!==null&&(l.nodeType!==G||l.data!=="");)s=l,l=Z(l);if(l===null)throw he(),ge;P(M,s),t=k(l);return}var d=i+"";r?d=`<svg>${d}</svg>`:u&&(d=`<math>${d}</math>`);var o=Ne(d);if((r||u)&&(o=y(o)),P(y(o),o.lastChild),r||u)for(;y(o);)t.before(y(o));else t.before(o)}})}const Me=Symbol("is custom element"),Re=Symbol("is html");function Le(e,f,r,u){var v=Ce(e);m&&(v[f]=e.getAttribute(f),f==="src"||f==="srcset"||f==="href"&&e.nodeName==="LINK")||v[f]!==(v[f]=r)&&(f==="loading"&&(e[Ae]=r),r==null?e.removeAttribute(f):typeof r!="string"&&Oe(e).includes(f)?e[f]=r:e.setAttribute(f,r))}function Ce(e){return e.__attributes??={[Me]:e.nodeName.includes("-"),[Re]:e.namespaceURI===Ee}}var q=new Map;function Oe(e){var f=e.getAttribute("is")||e.nodeName,r=q.get(f);if(r)return r;q.set(f,r=[]);for(var u,v=e,t=Element.prototype;t!==v;){u=Te(v);for(var i in u)u[i].set&&r.push(i);v=me(v)}return r}export{ke as e,He as h,Le as s};
